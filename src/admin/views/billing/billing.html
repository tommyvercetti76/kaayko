<!-- Billing View - Subscription Management -->
<div class="billing-view">
  <header class="view-header billing-header">
    <div class="header-left">
      <h1>ðŸ’³ Billing</h1>
      <p>Manage your subscription and payment methods</p>
    </div>
    <div class="header-right">
      <button class="btn-primary upgrade-btn" id="upgrade-btn">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>
        </svg>
        Upgrade Plan
      </button>
    </div>
  </header>

  <!-- Current Plan -->
  <div class="billing-section current-plan-section">
    <div class="plan-card" id="current-plan-card">
      <div class="plan-header">
        <div class="plan-badge" id="plan-badge">LOADING</div>
        <div class="plan-name" id="plan-name">Loading...</div>
      </div>
      <div class="plan-price">
        <span class="price-amount" id="plan-price">$â€”</span>
        <span class="price-period">/month</span>
      </div>
      <div class="plan-features" id="plan-features">
        <div class="loading">Loading plan details...</div>
      </div>
      <div class="plan-usage" id="plan-usage">
        <div class="usage-item">
          <span class="usage-label">Links Used</span>
          <div class="usage-bar">
            <div class="usage-fill" id="links-usage-fill" style="width: 0%"></div>
          </div>
          <span class="usage-count" id="links-usage-count">0 / 0</span>
        </div>
        <div class="usage-item">
          <span class="usage-label">Clicks This Month</span>
          <div class="usage-bar">
            <div class="usage-fill" id="clicks-usage-fill" style="width: 0%"></div>
          </div>
          <span class="usage-count" id="clicks-usage-count">0 / âˆž</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Available Plans -->
  <div class="billing-section plans-section">
    <h2>Available Plans</h2>
    <div class="plans-grid" id="plans-grid">
      <!-- Starter Plan -->
      <div class="plan-option" data-plan="starter">
        <div class="plan-option-header">
          <span class="plan-option-name">Starter</span>
          <span class="plan-option-badge">CURRENT</span>
        </div>
        <div class="plan-option-price">
          <span class="price">$0</span>
          <span class="period">/month</span>
        </div>
        <ul class="plan-option-features">
          <li>âœ“ 25 smart links</li>
          <li>âœ“ Basic analytics</li>
          <li>âœ“ Standard QR codes</li>
          <li>âœ“ Email support</li>
          <li class="disabled">âœ— Custom domains</li>
          <li class="disabled">âœ— API access</li>
        </ul>
        <button class="btn-secondary plan-btn current-plan-btn" disabled>Current Plan</button>
      </div>

      <!-- Pro Plan -->
      <div class="plan-option recommended" data-plan="pro">
        <div class="recommended-badge">RECOMMENDED</div>
        <div class="plan-option-header">
          <span class="plan-option-name">Pro</span>
        </div>
        <div class="plan-option-price">
          <span class="price">$29</span>
          <span class="period">/month</span>
        </div>
        <ul class="plan-option-features">
          <li>âœ“ 500 smart links</li>
          <li>âœ“ Advanced analytics</li>
          <li>âœ“ Branded QR codes</li>
          <li>âœ“ Priority support</li>
          <li>âœ“ 1 custom domain</li>
          <li>âœ“ API access (5K/mo)</li>
        </ul>
        <button class="btn-primary plan-btn" data-action="upgrade" data-plan="pro">Upgrade to Pro</button>
      </div>

      <!-- Business Plan -->
      <div class="plan-option" data-plan="business">
        <div class="plan-option-header">
          <span class="plan-option-name">Business</span>
        </div>
        <div class="plan-option-price">
          <span class="price">$99</span>
          <span class="period">/month</span>
        </div>
        <ul class="plan-option-features">
          <li>âœ“ 2,500 smart links</li>
          <li>âœ“ Team analytics</li>
          <li>âœ“ White-label QR</li>
          <li>âœ“ Dedicated support</li>
          <li>âœ“ 5 custom domains</li>
          <li>âœ“ API access (25K/mo)</li>
        </ul>
        <button class="btn-primary plan-btn" data-action="upgrade" data-plan="business">Upgrade to Business</button>
      </div>

      <!-- Enterprise Plan -->
      <div class="plan-option" data-plan="enterprise">
        <div class="plan-option-header">
          <span class="plan-option-name">Enterprise</span>
        </div>
        <div class="plan-option-price">
          <span class="price">Custom</span>
          <span class="period">pricing</span>
        </div>
        <ul class="plan-option-features">
          <li>âœ“ Unlimited links</li>
          <li>âœ“ Enterprise analytics</li>
          <li>âœ“ Full customization</li>
          <li>âœ“ 24/7 support + SLA</li>
          <li>âœ“ Unlimited domains</li>
          <li>âœ“ Unlimited API</li>
        </ul>
        <button class="btn-secondary plan-btn" data-action="contact">Contact Sales</button>
      </div>
    </div>
  </div>

  <!-- Payment Method -->
  <div class="billing-section payment-section">
    <h2>Payment Method</h2>
    <div class="payment-card" id="payment-method">
      <div class="payment-empty">
        <span class="payment-icon">ðŸ’³</span>
        <p>No payment method on file</p>
        <button class="btn-secondary" id="add-payment-btn">Add Payment Method</button>
      </div>
    </div>
  </div>

  <!-- Billing History -->
  <div class="billing-section history-section">
    <div class="section-header">
      <h2>Billing History</h2>
      <button class="btn-secondary" id="download-invoices-btn">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
        Download All
      </button>
    </div>
    <div class="history-table" id="billing-history">
      <div class="history-empty">
        <p>No billing history yet</p>
      </div>
    </div>
  </div>
</div>

<!-- Upgrade Modal -->
<div class="modal-overlay" id="upgrade-modal" style="display: none;">
  <div class="modal-content upgrade-modal-content">
    <button class="modal-close" id="close-upgrade-modal">&times;</button>
    <div class="modal-header">
      <h2>Upgrade to <span id="upgrade-plan-name">Pro</span></h2>
      <p>Unlock more features and grow your business</p>
    </div>
    <div class="modal-body">
      <div class="upgrade-summary">
        <div class="upgrade-price">
          <span class="upgrade-amount" id="upgrade-amount">$29</span>
          <span class="upgrade-period">/month</span>
        </div>
        <ul class="upgrade-features" id="upgrade-features">
          <!-- Populated by JS -->
        </ul>
      </div>
      <div class="payment-form" id="payment-form">
        <div class="form-group">
          <label>Card Number</label>
          <div id="card-element" class="stripe-element">
            <!-- Stripe Elements will be inserted here -->
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-secondary" id="cancel-upgrade">Cancel</button>
      <button class="btn-primary" id="confirm-upgrade">
        <span class="btn-text">Confirm Upgrade</span>
        <span class="btn-loading" style="display: none;">Processing...</span>
      </button>
    </div>
  </div>
</div>
